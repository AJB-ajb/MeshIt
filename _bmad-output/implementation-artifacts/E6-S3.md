# Story 6.3: Build Notification Bell Component

**Epic:** E6 - Notifications  
**Status:** ready-for-dev  
**Priority:** P1  
**Dependencies:** 6.2  
**Blocks:** None

## Story

As a user,
I want a notification bell in the header,
so that I can see new notifications at a glance.

## Acceptance Criteria

1. **Given** I am logged in
   **When** I view the header
   **Then** I see a notification bell icon

2. **Given** I have unread notifications
   **When** I view the bell
   **Then** I see a badge with the unread count

3. **Given** I click the bell
   **When** the dropdown opens
   **Then** I see my recent notifications

4. **Given** a notification in the dropdown
   **When** I click it
   **Then** I am taken to the relevant page
   **And** the notification is marked as read

5. **Given** real-time subscription
   **When** a new notification arrives
   **Then** the badge count updates instantly

## Tasks / Subtasks

- [ ] Task 1: Create notification bell component (AC: #1, #2)
  - [ ] Create `src/components/notifications/notification-bell.tsx`
  - [ ] Add bell icon from lucide-react
  - [ ] Show badge with unread count

- [ ] Task 2: Create notification dropdown (AC: #3, #4)
  - [ ] Use shadcn Popover or DropdownMenu
  - [ ] List recent notifications
  - [ ] Handle click to navigate and mark read

- [ ] Task 3: Add real-time updates (AC: #5)
  - [ ] Subscribe to notifications on mount
  - [ ] Update count on new notification
  - [ ] Show toast for new notifications

- [ ] Task 4: Integrate with header (AC: #1)
  - [ ] Add NotificationBell to header component
  - [ ] Position next to user menu

## Dev Notes

- Use shadcn Badge for count
- Consider limiting dropdown to 5 most recent
- Add "View all" link to full notifications page

### UI Layout

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Logo    Nav Items    [ğŸ”” 3]  [Avatar]  â”‚
â”‚                        â”‚                â”‚
â”‚                        â–¼                â”‚
â”‚                   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       â”‚
â”‚                   â”‚ New match!  â”‚       â”‚
â”‚                   â”‚ 2 min ago   â”‚       â”‚
â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚                   â”‚ Message fromâ”‚       â”‚
â”‚                   â”‚ John Doe    â”‚       â”‚
â”‚                   â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤       â”‚
â”‚                   â”‚ View all â†’  â”‚       â”‚
â”‚                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### References

- [Source: planning-artifacts/architecture.md#Real-time Notifications]
- [Source: planning-artifacts/prd.md#FR18 In-App Notifications]

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
