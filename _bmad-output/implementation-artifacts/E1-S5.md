# Story 1.5: Configure Google OAuth

**Epic:** E1 - Foundation  
**Status:** ready-for-dev  
**Priority:** P0  
**Dependencies:** 1.3  
**Blocks:** 1.10

## Story

As a user,
I want to sign in with Google,
so that I can quickly create an account without filling forms.

## Acceptance Criteria

1. **Given** I am on the login page
   **When** I click "Sign in with Google"
   **Then** I am redirected to Google OAuth consent screen

2. **Given** I approve the OAuth request
   **When** Google redirects back
   **Then** I am authenticated in the app
   **And** my session is created

3. **Given** successful authentication
   **When** I check Supabase
   **Then** a user record exists in auth.users
   **And** my email and name are stored

## Tasks / Subtasks

- [ ] Task 1: Set up Google OAuth credentials (AC: #1)
  - [ ] Go to Google Cloud Console
  - [ ] Create OAuth 2.0 credentials
  - [ ] Set authorized redirect URI to Supabase callback URL
  - [ ] Note Client ID and Client Secret

- [ ] Task 2: Configure Supabase Auth (AC: #1, #2)
  - [ ] Go to Supabase Dashboard → Authentication → Providers
  - [ ] Enable Google provider
  - [ ] Enter Client ID and Client Secret
  - [ ] Save configuration

- [ ] Task 3: Test OAuth flow (AC: #2, #3)
  - [ ] Create login button that calls supabase.auth.signInWithOAuth
  - [ ] Test full OAuth flow
  - [ ] Verify user created in auth.users

## Dev Notes

- Supabase handles the OAuth flow - just configure and call signInWithOAuth
- Callback URL format: `https://<project-ref>.supabase.co/auth/v1/callback`
- For local dev, also add localhost callback

### Code Example

```typescript
const { data, error } = await supabase.auth.signInWithOAuth({
  provider: 'google',
  options: {
    redirectTo: `${window.location.origin}/auth/callback`
  }
})
```

### References

- [Source: planning-artifacts/architecture.md#Backend & Data]
- Supabase Auth documentation

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
