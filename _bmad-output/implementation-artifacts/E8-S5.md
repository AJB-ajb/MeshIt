# Story 8.5: Error States & Empty States

**Epic:** E8 - UI/UX  
**Status:** ready-for-dev  
**Priority:** P1  
**Dependencies:** 8.1  
**Blocks:** None

## Story

As a user,
I want clear feedback when errors occur or when there's no data,
so that I understand what's happening and what to do.

## Acceptance Criteria

1. **Given** an API error occurs
   **When** I view the page
   **Then** I see a friendly error message
   **And** I have an option to retry

2. **Given** a list is empty
   **When** I view the page
   **Then** I see a helpful empty state
   **And** I have a clear action to add content

3. **Given** a 404 page
   **When** I navigate to a non-existent route
   **Then** I see a custom 404 page
   **And** I have a link to go home

4. **Given** error states
   **When** I view them
   **Then** they match the app's design
   **And** they don't feel jarring

## Tasks / Subtasks

- [ ] Task 1: Create error boundary component (AC: #1)
  - [ ] Create `src/components/error-boundary.tsx`
  - [ ] Show friendly error message
  - [ ] Add retry button
  - [ ] Log error for debugging

- [ ] Task 2: Create empty state component (AC: #2)
  - [ ] Create `src/components/ui/empty-state.tsx`
  - [ ] Accept icon, title, description, action props
  - [ ] Make it reusable across pages

- [ ] Task 3: Create custom error pages (AC: #3)
  - [ ] Create `src/app/not-found.tsx`
  - [ ] Create `src/app/error.tsx`
  - [ ] Design with brand consistency

- [ ] Task 4: Implement in key pages (AC: #1, #2, #4)
  - [ ] Add empty states to Projects, Matches, Messages
  - [ ] Add error handling to data fetching

## Dev Notes

- Empty states are opportunities to guide users
- Use illustrations or icons to make them friendly
- Error messages should be human, not technical

### Empty State Component

```tsx
// src/components/ui/empty-state.tsx
interface EmptyStateProps {
  icon?: React.ReactNode;
  title: string;
  description: string;
  action?: {
    label: string;
    href?: string;
    onClick?: () => void;
  };
}

export function EmptyState({ icon, title, description, action }: EmptyStateProps) {
  return (
    <div className="flex flex-col items-center justify-center py-12 text-center">
      {icon && <div className="mb-4 text-muted-foreground">{icon}</div>}
      <h3 className="text-lg font-semibold">{title}</h3>
      <p className="mt-1 text-sm text-muted-foreground max-w-sm">{description}</p>
      {action && (
        <Button className="mt-4" asChild={!!action.href}>
          {action.href ? (
            <Link href={action.href}>{action.label}</Link>
          ) : (
            <span onClick={action.onClick}>{action.label}</span>
          )}
        </Button>
      )}
    </div>
  );
}
```

### Usage Examples

```tsx
// No projects
<EmptyState
  icon={<FolderOpen className="h-12 w-12" />}
  title="No projects yet"
  description="Create your first project to start finding collaborators."
  action={{ label: "Create Project", href: "/projects/new" }}
/>

// No matches
<EmptyState
  icon={<Users className="h-12 w-12" />}
  title="No matches found"
  description="Complete your profile to get better matches."
  action={{ label: "Edit Profile", href: "/profile/edit" }}
/>
```

### References

- [Source: planning-artifacts/prd.md#User Experience]

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
