# Story 1.6: Configure GitHub OAuth

**Epic:** E1 - Foundation  
**Status:** ready-for-dev  
**Priority:** P0  
**Dependencies:** 1.3  
**Blocks:** 1.10, E2 (GitHub Enrichment)

## Story

As a user,
I want to sign in with GitHub,
so that I can quickly create an account and later enrich my profile from my repos.

## Acceptance Criteria

1. **Given** I am on the login page
   **When** I click "Sign in with GitHub"
   **Then** I am redirected to GitHub OAuth consent screen

2. **Given** I approve the OAuth request
   **When** GitHub redirects back
   **Then** I am authenticated in the app
   **And** my session is created

3. **Given** successful authentication
   **When** I check Supabase
   **Then** a user record exists in auth.users
   **And** my GitHub username is stored in user metadata
   **And** access token is available for API calls

## Tasks / Subtasks

- [ ] Task 1: Set up GitHub OAuth App (AC: #1)
  - [ ] Go to GitHub → Settings → Developer Settings → OAuth Apps
  - [ ] Create new OAuth App
  - [ ] Set Homepage URL to app URL
  - [ ] Set Authorization callback URL to Supabase callback
  - [ ] Note Client ID and Client Secret

- [ ] Task 2: Configure Supabase Auth (AC: #1, #2)
  - [ ] Go to Supabase Dashboard → Authentication → Providers
  - [ ] Enable GitHub provider
  - [ ] Enter Client ID and Client Secret
  - [ ] Request additional scopes: `read:user`, `repo` (for profile enrichment)
  - [ ] Save configuration

- [ ] Task 3: Test OAuth flow (AC: #2, #3)
  - [ ] Create login button for GitHub
  - [ ] Test full OAuth flow
  - [ ] Verify user created with GitHub metadata

## Dev Notes

- Request `repo` scope to enable E2 (GitHub Enrichment) later
- GitHub access token stored in user session for API calls
- GitHub username available in `user.user_metadata.user_name`

### Code Example

```typescript
const { data, error } = await supabase.auth.signInWithOAuth({
  provider: 'github',
  options: {
    redirectTo: `${window.location.origin}/auth/callback`,
    scopes: 'read:user repo'
  }
})
```

### References

- [Source: planning-artifacts/architecture.md#Backend & Data]
- [Source: planning-artifacts/prd.md#GitHub Profile Enrichment]

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
