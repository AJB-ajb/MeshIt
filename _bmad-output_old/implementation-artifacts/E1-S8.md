# Story 1.8: Configure Slack OAuth

**Epic:** E1 - Foundation  
**Status:** ready-for-dev  
**Priority:** P0  
**Dependencies:** 1.3  
**Blocks:** 1.10

## Story

As a user,
I want to sign in with Slack,
so that I can quickly create an account and share my Slack for collaboration.

## Acceptance Criteria

1. **Given** I am on the login page
   **When** I click "Sign in with Slack"
   **Then** I am redirected to Slack OAuth consent screen

2. **Given** I approve the OAuth request
   **When** Slack redirects back
   **Then** I am authenticated in the app
   **And** my session is created

3. **Given** successful authentication
   **When** I check Supabase
   **Then** a user record exists in auth.users
   **And** my Slack user info is stored in metadata

## Tasks / Subtasks

- [ ] Task 1: Set up Slack App (AC: #1)
  - [ ] Go to api.slack.com → Create New App
  - [ ] Add OAuth & Permissions
  - [ ] Set Redirect URL to Supabase callback
  - [ ] Add scopes: `openid`, `profile`, `email`
  - [ ] Note Client ID and Client Secret

- [ ] Task 2: Configure Supabase Auth (AC: #1, #2)
  - [ ] Go to Supabase Dashboard → Authentication → Providers
  - [ ] Enable Slack (OIDC) provider
  - [ ] Enter Client ID and Client Secret
  - [ ] Save configuration

- [ ] Task 3: Test OAuth flow (AC: #2, #3)
  - [ ] Create login button for Slack
  - [ ] Test full OAuth flow
  - [ ] Verify user created with Slack data

## Dev Notes

- Slack uses OIDC provider in Supabase
- Slack provides workspace info which can be used for collaboration handoff
- Consider storing Slack workspace ID for easy sharing

### Code Example

```typescript
const { data, error } = await supabase.auth.signInWithOAuth({
  provider: 'slack_oidc',
  options: {
    redirectTo: `${window.location.origin}/auth/callback`
  }
})
```

### References

- [Source: planning-artifacts/prd.md#Auth providers]
- Slack OAuth documentation

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
