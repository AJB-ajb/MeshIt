# Story 8.4: Loading States & Skeletons

**Epic:** E8 - UI/UX  
**Status:** ready-for-dev  
**Priority:** P1  
**Dependencies:** 8.1  
**Blocks:** None

## Story

As a user,
I want to see loading indicators while content loads,
so that I know the app is working.

## Acceptance Criteria

1. **Given** data is loading
   **When** I view a page
   **Then** I see skeleton placeholders that match the content shape

2. **Given** a button triggers an action
   **When** I click it
   **Then** it shows a loading spinner
   **And** it is disabled to prevent double-clicks

3. **Given** a page is loading
   **When** I wait
   **Then** the transition to loaded content is smooth

4. **Given** skeletons
   **When** I view them
   **Then** they have subtle animation (pulse or shimmer)

## Tasks / Subtasks

- [ ] Task 1: Create skeleton components (AC: #1, #4)
  - [ ] Create `src/components/ui/skeleton.tsx` (if not from shadcn)
  - [ ] Create card skeleton
  - [ ] Create list item skeleton
  - [ ] Create profile skeleton
  - [ ] Add shimmer animation

- [ ] Task 2: Create page-level loading states (AC: #1, #3)
  - [ ] Create loading.tsx for each route group
  - [ ] Use Suspense boundaries
  - [ ] Ensure smooth transitions

- [ ] Task 3: Create button loading state (AC: #2)
  - [ ] Add loading prop to Button component
  - [ ] Show spinner when loading
  - [ ] Disable button when loading

## Dev Notes

- Skeletons should match the shape of actual content
- Use React Suspense for data loading
- Consider using loading.tsx files in Next.js App Router

### Skeleton Components

```tsx
// src/components/ui/skeleton.tsx
export function Skeleton({ className }: { className?: string }) {
  return (
    <div
      className={cn(
        "animate-pulse rounded-md bg-muted",
        className
      )}
    />
  );
}

// src/components/skeletons/card-skeleton.tsx
export function CardSkeleton() {
  return (
    <div className="rounded-lg border p-4 space-y-3">
      <Skeleton className="h-6 w-3/4" />
      <Skeleton className="h-4 w-full" />
      <Skeleton className="h-4 w-2/3" />
      <div className="flex gap-2 pt-2">
        <Skeleton className="h-6 w-16 rounded-full" />
        <Skeleton className="h-6 w-16 rounded-full" />
      </div>
    </div>
  );
}
```

### References

- [Source: planning-artifacts/prd.md#NFR5 Fast Loading]
- shadcn/ui Skeleton: https://ui.shadcn.com/docs/components/skeleton

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
