# Story 7.2: Build Message Initiation UI

**Epic:** E7 - Messaging  
**Status:** ready-for-dev  
**Priority:** P1  
**Dependencies:** 7.1, E5-S5 (Match detail page)  
**Blocks:** None

## Story

As a user,
I want to initiate contact from a match,
so that I can start a conversation with a potential collaborator.

## Acceptance Criteria

1. **Given** I am on a match detail page
   **When** I click "Connect" or "Message"
   **Then** a message composer opens

2. **Given** the message composer
   **When** I type a message and click send
   **Then** the message is sent
   **And** I am taken to the conversation

3. **Given** the first message
   **When** it is sent
   **Then** a conversation is created
   **And** the recipient is notified

4. **Given** the composer
   **When** I want to share contact info
   **Then** I can easily include my Slack/Discord/LinkedIn

## Tasks / Subtasks

- [ ] Task 1: Add connect button to match detail (AC: #1)
  - [ ] Update `src/app/(protected)/matches/[id]/page.tsx`
  - [ ] Add "Connect" button
  - [ ] Open message dialog on click

- [ ] Task 2: Build message composer dialog (AC: #2, #4)
  - [ ] Create `src/components/messages/message-composer.tsx`
  - [ ] Use shadcn Dialog
  - [ ] Textarea for message
  - [ ] Quick-insert buttons for contact info

- [ ] Task 3: Implement send functionality (AC: #2, #3)
  - [ ] Call POST /api/messages
  - [ ] Show loading state
  - [ ] Redirect to conversation on success

## Dev Notes

- First message creates the conversation
- Consider pre-filling with template message
- Quick-insert for contact info improves UX

### UI Layout

```
┌─────────────────────────────────────────┐
│  Connect with John Doe            [×]   │
│  ─────────────────────────────────────  │
│                                         │
│  ┌───────────────────────────────────┐  │
│  │ Hi John! I saw your project and  │  │
│  │ I'm interested in collaborating. │  │
│  │                                   │  │
│  │ You can reach me on:              │  │
│  │ - Slack: @myhandle               │  │
│  │ - Discord: myuser#1234           │  │
│  └───────────────────────────────────┘  │
│                                         │
│  Quick add: [Slack] [Discord] [LinkedIn]│
│                                         │
│                          [Send Message] │
└─────────────────────────────────────────┘
```

### References

- [Source: planning-artifacts/prd.md#FR22 Initiate Contact]
- [Source: planning-artifacts/prd.md#FR24 External Contact Handoff]

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List
